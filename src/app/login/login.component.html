<!-- View for small to large devices -->
<div *ngIf="layout.gtxs" fxLayout="row" fxLayout.sm="column">
  <mat-card fxFlex="grow" fxLayout="column">
    <section fxFlex="grow" [title]="generalMessages.loginTitle()">
      <login-form [loginForm]="loginForm" [dataForLogin]="dataForLogin"
        (onSubmit)="doLogin()" [showActions]="!canRegister"></login-form>
    </section>
    <actions fxFlex="nogrow">
      <button mat-raised-button color="accent" [disabled]="!loginForm.valid" (click)="doLogin()">
        {{generalMessages.loginAction()}}
      </button>
    </actions>    
  </mat-card>

  <div *ngIf="canRegister" fxFlex="24px"></div>

  <mat-card *ngIf="canRegister" fxFlex="grow" fxLayout="column">
    <section *ngIf="canRegister" fxFlex="grow" [title]="generalMessages.loginRegisterTitle()">
      {{generalMessages.loginRegisterText()}}
    </section>
    <actions fxFlex="nogrow">
      <button mat-raised-button color="accent" (click)="register()">
        {{generalMessages.loginRegisterAction()}}
      </button>      
    </actions>    
  </mat-card>
</div>

<!-- Tabbed view for extra small devices when registration is enabled -->
<mat-tab-group *ngIf="canRegister && layout.xs">
  <mat-tab [label]="generalMessages.loginTitle()">
    <login-form class="topMargin" [loginForm]="loginForm" [dataForLogin]="dataForLogin"
      (onSubmit)="doLogin()" [showActions]="true"></login-form>
  </mat-tab>
  <mat-tab [label]="generalMessages.loginRegisterTitle()">
    <div class="topMargin">
      {{generalMessages.loginRegisterText()}}
    </div>
    <actions>
      <button mat-raised-button [disabled]="!loginForm.valid" color="accent" (click)="register()">
        {{generalMessages.loginRegisterAction()}}
      </button>
    </actions>
  </mat-tab>
</mat-tab-group>

<!-- Login page for extra small devices when registration is disabled -->
<section *ngIf="!canRegister && layout.xs" [title]="generalMessages.loginTitle()">
  <login-form [dataForLogin]="dataForLogin" (onSubmit)="doLogin($event)" [showActions]="true"></login-form>
</section>