<page-layout [ngSwitch]="step$ | async" size="medium" hideMenu>
  <page-content *ngSwitchCase="'request'"
    [layout]="(layout.ltmd$ | async) ? 'normal' : 'centered'"
    [heading]="i18n.password.title.forgotten"
    [mobileHeading]="i18n.password.mobileTitle.forgotten" last>
    <forgot-password-step-request [data]="data" [form]="form">
    </forgot-password-step-request>
    <actions>
      <button class="btn btn-primary" (click)="toCode()">
        {{ i18n.general.submit }}
      </button>
      <button class="btn btn-outline-primary" (click)="cancel()">
        {{ i18n.general.cancel }}
      </button>
    </actions>
  </page-content>

  <page-content *ngSwitchCase="'code'"
    [layout]="(layout.ltmd$ | async) ? 'normal' : 'centered'"
    [heading]="i18n.password.title.forgotten"
    [mobileHeading]="i18n.password.mobileTitle.forgotten" last>
    <forgot-password-step-code [form]="form">
    </forgot-password-step-code>
    <actions>
      <button class="btn btn-primary" (click)="toChange()">
        {{ i18n.general.submit }}
      </button>
      <button class="btn btn-outline-primary" (click)="cancel()">
        {{ i18n.general.cancel }}
      </button>
    </actions>
  </page-content>

  <page-content *ngSwitchCase="'change'"
    [layout]="(layout.ltmd$ | async) ? 'normal' : 'centered'"
    [heading]="i18n.password.title.forgotten"
    [mobileHeading]="i18n.password.mobileTitle.forgotten" last>
    <forgot-password-step-change [data]="changeData" [form]="form">
    </forgot-password-step-change>
    <actions>
      <button class="btn btn-primary" (click)="change()">
        {{ changeData.passwordType.mode === 'generated' 
        ? i18n.password.forgotten.generate : i18n.general.submit }}
      </button>
      <button class="btn btn-outline-primary" (click)="cancel()">
        {{ i18n.general.cancel }}
      </button>
    </actions>
  </page-content>

</page-layout>
