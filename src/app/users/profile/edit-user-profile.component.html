<page-layout [title]="messages.userEditMyProfileTitle()"
  [loaded]="loaded">
  <page-content *ngIf="loaded | async">
    <form fxLayout="column"
      [formGroup]="form">
      <user-fields-form [data]="data"
        [user]="user"
        [form]="form"></user-fields-form>
      <confirmation-password *ngIf="data.confirmationPasswordInput"
        formControlName="confirmationPassword"
        [passwordInput]="data.confirmationPasswordInput"
        [message]="messages.userEditMyProfileConfirmationPassword()"></confirmation-password>
    </form>
    <actions>
      <button fxFlex.gt-xs="nogrow"
        mat-raised-button
        color="accent"
        [disabled]="(form.statusChanges | async) != 'VALID'"
        (click)="save()">
        {{ messages.save() }}
      </button>
    </actions>
  </page-content>
</page-layout>
