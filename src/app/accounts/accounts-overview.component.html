<section [title]="accountMessages.accountsOverviewTitle()">
  <!-- No accounts: show a notification -->
  <notification *ngIf="noAccountsNotification" [notification]="noAccountsNotification"></notification>

  <md-table *ngIf="noAccountsNotification == null" [dataSource]="dataSource">
    <!-- Account type column -->
    <ng-container cdkColumnDef="type">
      <md-header-cell *cdkHeaderCellDef>{{accountMessages.accountType()}}</md-header-cell>
      <md-cell *cdkCellDef="let row">{{row.type.name}}</md-cell>
    </ng-container>

    <!-- Number column -->
    <ng-container cdkColumnDef="number">
      <md-header-cell *cdkHeaderCellDef>{{accountMessages.accountNumber()}}</md-header-cell>
      <md-cell *cdkCellDef="let row">{{row.number}}</md-cell>
    </ng-container>

    <!-- Aggregated column -->
    <ng-container cdkColumnDef="aggregated">
      <md-header-cell *cdkHeaderCellDef></md-header-cell>
      <md-cell *cdkCellDef="let row">
        <div class="cell-main">{{row.type.name}}</div>
        <div>{{row.number}}</div>
      </md-cell>
    </ng-container>

    <!-- Balance column -->
    <ng-container cdkColumnDef="balance">
      <md-header-cell *cdkHeaderCellDef style="text-align: end">{{accountMessages.accountBalance()}}</md-header-cell>
      <md-cell *cdkCellDef="let row" style="text-align: end">
        <div *ngIf="layout.xs" class="cell-main">{{accountMessages.accountBalance()}}</div>
        {{row.status?.balance | currency:row.currency}}
      </md-cell>
    </ng-container>
    
    <md-header-row *cdkHeaderRowDef="layout.xs ? [] : displayedColumns"></md-header-row>
    <md-row class="clickable" *cdkRowDef="let row; columns: displayedColumns;"
      (click)="showHistory(row)"></md-row>
  </md-table>
</section>