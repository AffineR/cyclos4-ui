<!-- string, integer, URL or entity -->
<mat-form-field *ngIf="input" #stringComponent fxFlex="grow">
  <input #stringInput="ngModel" matInput
    [placeholder]="field.name"
    [required]="field.required"
    [focused]="focused"
    [type]="type == 'url' ? 'url' : 'text'"
    [numbersOnly]="type == 'integer'"
    [mask]="field.pattern"
    [(ngModel)]="fieldValue" [ngModelOptions]="{standalone: true}">
</mat-form-field>

<!-- text or rich text (no WYSIWYG editor yet!) -->
<mat-form-field *ngIf="textarea" #textComponent fxFlex="grow">
  <textarea #textInput="ngModel" matInput matTextareaAutosize
    [placeholder]="field.name"
    mdAutosizeMinRows="3"
    [required]="field.required"
    [focused]="focused"
    [type]="type == 'url' ? 'url' : 'text'"
    [numbersOnly]="type == 'integer'"
    [(ngModel)]="fieldValue" [ngModelOptions]="{standalone: true}"></textarea>
</mat-form-field>

<!-- boolean -->
<mat-checkbox #booleanComponent="ngModel" fxFlex="grow" *ngIf="type == 'boolean'"
  [(ngModel)]="fieldValue" [ngModelOptions]="{standalone: true}">{{field.name}}</mat-checkbox>

<!-- decimal -->
<decimal-field #decimalComponent="ngModel" fxFlex="grow" *ngIf="type == 'decimal'"
  [placeholder]="field.name" [scale]="field.decimalDigits"
  [required]="field.required"
  [focused]="focused"
  [(ngModel)]="fieldValue" [ngModelOptions]="{standalone: true}"></decimal-field>

<!-- date -->
<date-field #dateComponent="ngModel" fxFlex="grow" *ngIf="type == 'date'"
  [placeholder]="field.name" [required]="field.required"
  [focused]="focused"
  [(ngModel)]="fieldValue" [ngModelOptions]="{standalone: true}"></date-field>

<!-- single / multi selection -->
<mat-form-field *ngIf="type == 'singleSelection' || type == 'multiSelection'">
  <mat-select #selectComponent="ngModel" fxFlex="grow"
    [name]="field.internalName"
    [(ngModel)]="fieldValue" [ngModelOptions]="{standalone: true}" [required]="field.required"
    [placeholder]="field.name" [multiple]="type == 'multiSelection'">
    <mat-option *ngFor="let pv of field.possibleValues"
      [value]="pv.id">
      <span *ngIf="pv.category">{{pv.category.name}} - </span>
      {{pv.value}}
    </mat-option>
  </mat-select>
</mat-form-field>

<!-- dynamic selection -->
<mat-form-field *ngIf="type == 'dynamicSelection'">
  <mat-select #dynamicComponent="ngModel" fxFlex="grow"
    [name]="field.internalName"
    [(ngModel)]="value" [ngModelOptions]="{standalone: true}" [required]="field.required"
    [placeholder]="field.name">
    <mat-option *ngFor="let pv of field.dynamicValues"
      [value]="pv.value">{{pv.label}}</mat-option>
  </mat-select>
</mat-form-field>
<!-- no support for file / image so far -->