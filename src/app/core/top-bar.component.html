<nav class="navbar navbar-expand-md">
  <div class="navbar-container">
    <a *ngIf="layout.ltlg$ | async" id="sidenav-trigger" href="#" (click)="toggleSidenav.emit(); $event.preventDefault()">
      <icon class="top-icon top-icon-opaque" icon="menu"></icon>
    </a>
    <span class="navbar-brand flex-grow-1">
      <img *ngIf="layout.gtxs$ | async" class="logo d-inline-block align-top mr-3"
        src="images/logo.png">
      <span class="d-inline-block">
        {{ (layout.ltsm$ | async) ? format.appTitleSmall : format.appTitle }}
      </span>
    </span>
    <div class="d-flex">
      <ng-container *ngIf="user != null">
        <a [routerLink]="['users', 'my-profile']" id="profile-link" (click)="menu.navigate(Menu.MY_PROFILE, $event)">
          <avatar *ngIf="user.image" size="small-medium" [image]="user.image"></avatar>
          <icon *ngIf="!user.image" class="top-icon" icon="user"></icon>
          <div *ngIf="layout.gtsm$ | async" class="ml-2">
            {{ user.display }}
          </div>
        </a>
        <a href="#" *ngIf="(login.user$ | async) != null" id="logout-trigger"
          (click)="menu.navigate(Menu.LOGOUT, $event)">
          <icon class="top-icon top-icon-opaque" icon="logout"></icon>
          <div *ngIf="layout.gtsm$ | async" class="ml-2">
            {{ messages.menu.logout }}
          </div>
        </a>
      </ng-container>
      <ng-container *ngIf="user == null">
        <a *ngIf="menu.menuEntry(Menu.REGISTRATION)" routerLink="/register"
          id="register-link" (click)="menu.navigate(Menu.REGISTRATION, $event)">
          <icon class="top-icon top-icon-opaque" icon="registration"></icon>
          <div *ngIf="layout.gtsm$ | async" class="ml-2">
            {{ messages.menu.register }}
          </div>
        </a>
        <a routerLink="/login" id="login-link" (click)="menu.navigate(Menu.LOGIN, $event)">
          <icon class="top-icon top-icon-opaque" icon="exit_to_app"></icon>
          <div *ngIf="layout.gtsm$ | async" class="ml-2">
            {{ messages.menu.login }}
          </div>
        </a>
      </ng-container>
    </div>
  </div>
</nav>
